!function(){let e;this.preOrderCustomConfig={enableCartRedirection:!0};let t="https://dev-hc.hotwax.io";async function a(){if(location.pathname.includes("products")){const a=e("form[action='/cart/add']").serializeArray().find(e=>"id"===e.name).value,n=e("form[action^='/cart/add']:first [type=submit]:visible:first"),r=function(a){return new Promise(function(n,r){e.ajax({type:"POST",url:`${t}/api/searchProducts`,data:JSON.stringify({filters:[`sku: ${a}`]}),dataType:"json",crossDomain:!0,headers:{"Content-Type":"application/json"},success:function(e){n(e)},error:function(e){r(e)}})})}(meta.product.variants.find(e=>e.id==a).sku);r.preOrder&&(n.html("Pre Order"),n.after(`<span>Ships from ${r.timestamp}</span>`),n.on("click",function(t){let a=e("form[action='/cart/add']");t.preventDefault(),t.stopImmediatePropagation();let n=e('<input id="pre-order-item" name="properties[Note]" value="Pre-Order" type="hidden"/>');a.append(n),e.ajax({type:"POST",url:"/cart/add.js",data:a.serialize(),dataType:"JSON",success:function(){preOrderCustomConfig.enableCartRedirection&&location.replace("/cart")}}),n.remove()}.bind(null)))}}"undefined"==typeof jQuery||parseFloat(jQuery.fn.jquery)<1.7?function(e,t){let a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}("//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",function(){(e=jQuery.noConflict(!0))(document).ready(function(){a()})}):(e=jQuery)(document).ready(function(){a()});let n=location.href;new MutationObserver(()=>{location.href!==n&&(n=location.href,a())}).observe(document,{subtree:!0,childList:!0})}();