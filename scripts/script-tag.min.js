!function(){let e;this.preOrderCustomConfig={enableCartRedirection:!0};let t="https://dev-hc.hotwax.io",o=function(e,t){let o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,t())}:o.onload=function(){t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)};async function n(){if(location.pathname.includes("products")){const n=e("form[action='/cart/add']").serializeArray().find(e=>"id"===e.name).value,a=meta.product.variants.map(e=>e.id),r=e("form[action^='/cart/add']:first [type=submit]:visible:first"),i=await(o=a,new Promise(function(n,a){e.ajax({type:"POST",url:`${t}/api/checkPreorderItemAvailability`,data:JSON.stringify({filters:{sku:o,sku_op:"in"}}),dataType:"json",crossDomain:!0,headers:{"Content-Type":"application/json"},success:function(e){n(e)},error:function(e){a(e)}})})).catch(e=>console.error(e));let c=e("#hc_preordershipsfrom"),d=e("#hc_preordershipsfrom span");if(i&&i.count>0){const t=i.docs.find(e=>e.productId===n);if(t){const o=moment.utc(t.estimatedDeliveryDate),n=moment(o).local().format("MMM Do YYYY");r.html("Pre Order"),c.length>0&&d.html(`${n}`),c.show(),r.on("click",function(t){let o=e("form[action='/cart/add']");t.preventDefault(),t.stopImmediatePropagation();let n=e('<input id="pre-order-item" name="properties[Note]" value="Pre-Order" type="hidden"/>');o.append(n),e.ajax({type:"POST",url:"/cart/add.js",data:o.serialize(),dataType:"JSON",success:function(){preOrderCustomConfig.enableCartRedirection&&location.replace("/cart")}}),n.remove()}.bind(null))}}}var o}"undefined"==typeof jQuery||parseFloat(jQuery.fn.jquery)<1.7?o("//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",function(){(e=jQuery.noConflict(!0))(document).ready(function(){n()})}):(e=jQuery)(document).ready(function(){n()}),"undefined"==typeof moment&&o("https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js",function(){console.log("moment js loaded")});let a=location.href;new MutationObserver(()=>{location.href!==a&&(a=location.href,n())}).observe(document,{subtree:!0,childList:!0})}();